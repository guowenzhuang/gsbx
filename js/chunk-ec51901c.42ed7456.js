(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ec51901c"],{"0758":function(t,e,n){"use strict";var i=n("a370"),c=n.n(i);c.a},2407:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"admin-login"},[n("div",[n("div",[n("h2",[n("icon",{staticStyle:{"font-size":"50px"},attrs:{name:"gsbx-Artboard"}}),t._v("\n                GSBX博客后台管理登录\n            ")],1),n("p",{staticStyle:{"font-size":"14px"}},[t._v("一个不用服务器的开源博客")])]),n("div",{staticClass:"logo-div",on:{click:t.login}},[n("div",{staticStyle:{"font-size":"16px"}},[t._v("点击登录")]),n("icon",{staticStyle:{"font-size":"50px","margin-top":"10px"},attrs:{name:"gsbx-github"}})],1)])])},c=[],o=(n("7f7f"),n("365c")),a=n("9bd2"),s=a["a"].axios;function r(t){return s({url:o["a"].getToken,method:"post",data:t})}function u(t){return s({url:o["a"].getActiveUser,method:"get",params:t})}var l=n("e819"),d=n("a78e"),h=n.n(d),g={name:"Login",data:function(){return{}},methods:{login:function(){location.href=o["a"].getCode}},created:function(){var t=this;if(null==h.a.get("token")||""===h.a.get("token")){var e=this.$route.query.code;if(null==e||""===e)return;r({client_id:l["a"].clientId,client_secret:l["a"].clientSecret,code:e}).then(function(e){console.log(e);var n=e.access_token;u({access_token:n}).then(function(e){sessionStorage.setItem("loginname",e.login),sessionStorage.setItem("name",e.name),h.a.set("token",n),t.$router.push("/admin/home")})})}else this.$router.push("/admin/home")}},p=g,f=(n("0758"),n("2877")),m=Object(f["a"])(p,i,c,!1,null,"62fc5aba",null),b=m.exports;e["default"]=b},"365c":function(t,e,n){"use strict";var i=n("e819"),c={getCode:"https://github.com/login/oauth/authorize?client_id=".concat(i["a"].clientId,"&scope=public_repo"),getToken:"https://cors.wenjunjiang.win/?remoteUrl=https://github.com/login/oauth/access_token",getActiveUser:"https://api.github.com/user",issueArticle:"https://api.github.com/repos/".concat(i["a"].username,"/").concat(i["a"].articleRepo,"/issues"),getArticle:"https://api.github.com/repos/".concat(i["a"].username,"/").concat(i["a"].articleRepo,"/issues")};e["a"]=c},"7f7f":function(t,e,n){var i=n("86cc").f,c=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in c||n("9e1e")&&i(c,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},a370:function(t,e,n){},e819:function(t,e,n){"use strict";e["a"]={clientId:"d318e11d5b12bf0417b6",clientSecret:"35d61b835b940179de4d8dc1d3b9541ed4cd55f9",username:"guowenzhuang",articleRepo:"gsbxComment",articleLabel:"article",adminMenu:[{title:"dashboard",key:"dashboard",icon:"pie-chart",children:[{title:"工作台",key:"workbench",icon:"reconciliation"}]},{title:"文章管理",key:"article",icon:"book",children:[{title:"写文章",key:"writeArticle",icon:"plus-square"},{title:"文章管理",key:"articleManager",icon:"file-text"}]}]}}}]);